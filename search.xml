<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>vue echarts基本使用</title>
    <url>/vueUseEcharts/</url>
    <content><![CDATA[<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;content&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;myChart&quot; id=&quot;myChart&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            chart: null,//图表实例</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy() &#123;</span><br><span class="line">        //清除图表防止页面卡顿</span><br><span class="line">        this.chart &amp;&amp; this.chart.clear()</span><br><span class="line">        console.log(&#x27;清空图表数据beforeDestroy&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line">        this.$nextTick(() =&gt; &#123;</span><br><span class="line">            //实例化图形</span><br><span class="line">            this.setChart(&#x27;myChart&#x27;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        // 4. 当我们浏览器缩放的时候，图表也等比例缩放</span><br><span class="line">        window.addEventListener(&#x27;resize&#x27;, () =&gt; &#123;</span><br><span class="line">            // 让我们的图表调用 resize这个方法</span><br><span class="line">            this.chart &amp;&amp; this.chart.resize()</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        setChart(id)&#123;</span><br><span class="line">            let chartDom = document.getElementById(id)</span><br><span class="line">            // main.js中引入echarts 挂载vue上</span><br><span class="line">            this.chart = this.$echarts.init(chartDom)</span><br><span class="line">            let option</span><br><span class="line">            option = &#123;</span><br><span class="line">                tooltip: &#123;</span><br><span class="line">                    trigger: &#x27;item&#x27;,</span><br><span class="line">                &#125;,</span><br><span class="line">                legend: &#123;</span><br><span class="line">                    top: &#x27;5%&#x27;,</span><br><span class="line">                    left: &#x27;center&#x27;,</span><br><span class="line">                &#125;,</span><br><span class="line">                graphic: &#123;</span><br><span class="line">                    type: &#x27;text&#x27;,</span><br><span class="line">                    left: &#x27;center&#x27;,</span><br><span class="line">                    top: &#x27;49%&#x27;,</span><br><span class="line">                    style: &#123;</span><br><span class="line">                        text: &#x27;饼形图统计&#x27;,</span><br><span class="line">                        textAlign: &#x27;center&#x27;,</span><br><span class="line">                        fill: &#x27;#333&#x27;,</span><br><span class="line">                        fontSize: 18,</span><br><span class="line">                        fontWeight: &#x27;bold&#x27;,</span><br><span class="line">                    &#125;,</span><br><span class="line">                &#125;,</span><br><span class="line">                series: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        type: &#x27;pie&#x27;,</span><br><span class="line">                        radius: [&#x27;40%&#x27;, &#x27;70%&#x27;],</span><br><span class="line">                        avoidLabelOverlap: false,</span><br><span class="line">                        itemStyle: &#123;</span><br><span class="line">                            borderRadius: 10,</span><br><span class="line">                            borderColor: &#x27;#fff&#x27;,</span><br><span class="line">                            borderWidth: 2,</span><br><span class="line">                        &#125;,</span><br><span class="line">                        label: &#123;</span><br><span class="line">                            show: true,</span><br><span class="line">                            position: &#x27;inside&#x27;,</span><br><span class="line">                            formatter: `&#123;d&#125;%`,</span><br><span class="line">                            color: &#x27;#ffffff&#x27;, //颜色</span><br><span class="line">                            fontSize: 12, //字体大小</span><br><span class="line">                        &#125;,</span><br><span class="line">                        labelLine: &#123;</span><br><span class="line">                            show: true,</span><br><span class="line">                        &#125;,</span><br><span class="line">                        color: [&#x27;#3cca76&#x27;,&#x27;#fc5531&#x27;],</span><br><span class="line">                        data: [&#123;name: &#x27;汽车&#x27;,value: 200&#125;,&#123;name: &#x27;单车&#x27;,value: 2000&#125;],</span><br><span class="line">                    &#125;,</span><br><span class="line">                ],</span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">            option &amp;&amp; this.chart.setOption(option)</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">.myChart&#123;</span><br><span class="line">    width: 600px;</span><br><span class="line">    height: 600px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>echarts 官网 <a href="https://echarts.apache.org/zh/index.html">https://echarts.apache.org/zh/index.html</a></p>
]]></content>
  </entry>
  <entry>
    <title>vue h5 弹幕效果</title>
    <url>/barrage/</url>
    <content><![CDATA[<h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;section class=&quot;content&quot;&gt;</span><br><span class="line">        &lt;!-- 弹幕盒子 --&gt;</span><br><span class="line">        &lt;div class=&quot;bullet-chat&quot;&gt;</span><br><span class="line">            &lt;!-- 弹幕 --&gt;</span><br><span class="line">            &lt;div class=&quot;dmGroup&quot; v-for=&quot;(item,index) in dmData&quot; :key=&quot;index&quot;</span><br><span class="line">                v-bind:style=&quot;&#123;top:item.top +&#x27;%&#x27;,animationDuration:item.delayTime + &#x27;s&#x27;,animationTimingFunction:&#x27;linear&#x27;,animationDelay:item.timeRequired +&#x27;ms&#x27;,animationPlayState:&#x27;running&#x27;&#125;&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;dmItem&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;dm&quot; :style=&quot;&#123;border:item.borderColor? &#x27;1px solid #FF703E&#x27;:&#x27;none&#x27;&#125;&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;avatarBox&quot;&gt;</span><br><span class="line">                            &lt;img :src=&quot;item.avatar&quot; class=&quot;avatar&quot; /&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;span class=&quot;messages&quot; :style=&quot;&#123;color:item.color&#125;&quot;&gt;&#123;&#123; item.nickname &#125;&#125;&lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;section/&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/*弹幕样式*/</span><br><span class="line">/* // 弹幕 */</span><br><span class="line">.dmGroup &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 70px;</span><br><span class="line">    left: 100%;</span><br><span class="line">    z-index: 10;</span><br><span class="line">    animation-timing-function: linear;</span><br><span class="line">    animation-fill-mode: none;</span><br><span class="line">    transform: translateZ(0);</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">    height: 30px;</span><br><span class="line">    animation: dmAnimation 5s linear 2s alternate;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.dmItem &#123;</span><br><span class="line">    margin-right: 30px;</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.dmItem .dm &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    align-items: center;</span><br><span class="line">    position: relative;</span><br><span class="line">    max-width: 250px;</span><br><span class="line">    padding: 4px 4px 4px 4px;</span><br><span class="line">    background: rgba(0,0,0,.7) !important;</span><br><span class="line">    border-radius: 20px;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    color: rgba(255, 255, 255, 1);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.dmItem .avatarBox &#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    position: relative;</span><br><span class="line">    width: 20px;</span><br><span class="line">    height: 20px;</span><br><span class="line">    margin-right: 4px;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.dmItem .avatarBox .avatar &#123;</span><br><span class="line">    width: 20px;</span><br><span class="line">    height: 20px;</span><br><span class="line">    border: 0;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.dmItem .dm .messages &#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    margin-right: 5px;</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">    text-overflow: ellipsis;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">@keyframes dmAnimation &#123;</span><br><span class="line">    from &#123;</span><br><span class="line">        left: 100%;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    to &#123;</span><br><span class="line">        left: -100%;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.barrage_area &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 10rem;</span><br><span class="line">    position: relative;</span><br><span class="line">    background: #aaa;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">/* 弹幕 */</span><br></pre></td></tr></table></figure>

<h2 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">data()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        //弹幕消息</span><br><span class="line">        dmData: [],</span><br><span class="line">        //弹幕消息栈</span><br><span class="line">        dmDataFu: [&#123;</span><br><span class="line">                avatar: &#x27;https://img01.yzcdn.cn/vant/cat.jpeg&#x27;,</span><br><span class="line">                id: 17288,</span><br><span class="line">                nickname: &#x27;6666&#x27;,</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                avatar: &#x27;https://img01.yzcdn.cn/vant/cat.jpeg&#x27;,</span><br><span class="line">                id: 17312,</span><br><span class="line">                nickname: &#x27;哈哈哈哈阿萨撒旦发生飞洒啊是&#x27;,</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                avatar: &#x27;https://img01.yzcdn.cn/vant/cat.jpeg&#x27;,</span><br><span class="line">                id: 17312,</span><br><span class="line">                nickname: &#x27;哈哈哈哈阿萨撒旦发生飞洒啊是&#x27;,</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                avatar: &#x27;https://img01.yzcdn.cn/vant/cat.jpeg&#x27;,</span><br><span class="line">                id: 17312,</span><br><span class="line">                nickname: &#x27;哈哈哈哈阿萨撒旦发生飞洒啊是&#x27;,</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                avatar: &#x27;https://img01.yzcdn.cn/vant/cat.jpeg&#x27;,</span><br><span class="line">                id: 17312,</span><br><span class="line">                nickname: &#x27;哈哈哈哈阿萨撒旦发生飞洒啊是&#x27;,</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                avatar: &#x27;https://img01.yzcdn.cn/vant/cat.jpeg&#x27;,</span><br><span class="line">                id: 17312,</span><br><span class="line">                nickname: &#x27;哈哈哈哈阿萨撒旦发生飞洒啊是&#x27;,</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        //定时器</span><br><span class="line">        timer: null,</span><br><span class="line">        //定时器时间</span><br><span class="line">        timerS: 2500,</span><br><span class="line">        //计数器</span><br><span class="line">        num: -1,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">    //定时发送历史弹幕</span><br><span class="line">    isTime() &#123;</span><br><span class="line">        this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">            this.num++;</span><br><span class="line">            if (this.num == this.dmDataFu.length - 1) &#123;</span><br><span class="line">                //清除定时器</span><br><span class="line">                clearInterval(this.timer);</span><br><span class="line">            &#125;</span><br><span class="line">            this.dmData.push(this.dmDataFu[this.num])</span><br><span class="line">        &#125;, this.timerS)</span><br><span class="line">    &#125;,</span><br><span class="line">    //处理弹幕参数</span><br><span class="line">    parameters() &#123;</span><br><span class="line">        const dmArr = [];</span><br><span class="line">        for (let i = 0; i &lt; this.dmDataFu.length; i++) &#123;</span><br><span class="line">            // 动画在开始前的延迟时间</span><br><span class="line">            const delayTime = Math.floor(Math.random() * 20) + 5;</span><br><span class="line">            // 动画执行一次的所需时间</span><br><span class="line">            const timeRequired = Math.floor(Math.random() * 300);</span><br><span class="line">            // const _time = time &lt; 6 ? 6 + i : time + i;</span><br><span class="line">            // 随机位置</span><br><span class="line">            const top = Math.floor(Math.random() * 50) + 1;</span><br><span class="line">            const _p = &#123;</span><br><span class="line">                id: this.dmDataFu[i].id,</span><br><span class="line">                nickname: this.dmDataFu[i].nickname,</span><br><span class="line">                avatar: this.dmDataFu[i].avatar,</span><br><span class="line">                top,</span><br><span class="line">                delayTime,</span><br><span class="line">                timeRequired,</span><br><span class="line">                //弹幕的字体颜色</span><br><span class="line">                color: &#x27;#fff&#x27;,</span><br><span class="line">                //显示弹幕边框</span><br><span class="line">                borderColor: false</span><br><span class="line">            &#125;;</span><br><span class="line">            dmArr.push(_p);</span><br><span class="line">        &#125;</span><br><span class="line">        this.dmDataFu = dmArr</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>本文来自于: <a href="https://ilovefy.jaron.top/">https://ilovefy.jaron.top/</a></p>
]]></content>
  </entry>
</search>
